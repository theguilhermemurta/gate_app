#: include kv/contentnavigationdrawer.kv
#: include kv/itemdrawer.kv
#: import utils kivy.utils

<HomeScreen>:

	Screen:

	    NavigationLayout:

	        ScreenManager:
	        	id: screen_manager_nd

	            Screen:
	            	name: "gate_camera"

	        		FloatLayout:

						GridLayout:
							cols: 1
							size_hint: 1,.8
							pos_hint: {"top": 1, "right": 1}
							MDToolbar:
		                        title: "Gate App"
		                        elevation: 10
		                        left_action_items: [['menu', lambda x: nav_drawer.set_state()]]
		                    BoxLayout:
		                    	


						GridLayout:

							cols: 2
							pos_hint: {"down": 1, "left": 1}
							size_hint: 1, .2
							ImageButton:
								id: abre
								source: "icons/button_abre.jpg"
								# on_press: self.source"Adicona a imagem precionada"
								on_release: app.open_gate()
							ImageButton:
								id: fecha
								source: "icons/button_fecha.jpg"
								on_release: app.close_gate()    

				Screen:
					name: "config"

					FloatLayout:

						GridLayout:
							cols: 1
							size_hint: 1,.8
							pos_hint: {"top": 1, "right": 1}
							MDToolbar:
		                        title: "Gate App"
		                        elevation: 10
		                        left_action_items: [['menu', lambda x: nav_drawer.set_state()]]
		                    
						TextInput:
							id: gate
							hint_text: "Número do gate"
							multiline: False
							size_hint: .6, .1
							pos_hint: {"top": .60, "right": .80}

						MDRaisedButton:
							id: gate_button
							text: "Confirmar"
							on_release: 
								app.my_firebase.gate_config()
								print("Configurando o Portão!")

				Screen:
					name: "sair"

					FloatLayout:

						GridLayout:
							cols: 1
							size_hint: 1,.8
							pos_hint: {"top": 1, "right": 1}
							MDToolbar:
			                    title: "Gate App"
			                    elevation: 10
			                    left_action_items: [['menu', lambda x: nav_drawer.set_state()]]
			                
						Label:
							text: "Deseja sair?"
							size_hint: .6, .1
							pos_hint: {"top": .60, "right": .80}

						MDRaisedButton:
							id: yes_logout
							text: "SIM"
							on_release: 
								app.my_firebase.log_out()
								print("Log Out")
						MDRaisedButton:
							id: no_logout
							text: "NÃO"
							on_release: 
								app.my_firebase.log_out()
								print("Não saí")
		                    					



	        MDNavigationDrawer:
	            id: nav_drawer
	            
	            ContentNavigationDrawer:
	            	id: content_drawer


		


